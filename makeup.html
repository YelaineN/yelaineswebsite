<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Makeup Frenzy!</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Jersey+15&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Mystery+Quest&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bellota:wght@400;700&display=swap" rel="stylesheet">
    
    <script src="java/script.js"></script>
    <style>
        
        html, body {
    height: 100%;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'arial', sans-serif;
    font-size: 20px;
    color: rgb(127, 33, 66);
    text-align: center;
    background-color: rgb(240, 240, 240);
}

h1 {
    font-family: 'Mystery Quest', sans-serif;
    color: rgb(250, 222, 127);
    text-shadow:  -1px -1px 1px rgb(248, 162, 13), 
    1px 1px 1px rgb(149, 36, 60),
    0 0 10px rgb(251, 221, 138);
    position: absolute;
    top: 23%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 42px;
    font-weight: bold;
    pointer-events: none;
    user-select: none;
    text-align: center;
    padding: 10px;
    border-radius: 10px;
    z-index: 100;
    white-space: nowrap; 
    animation: softWiggle 1.5s ease-in-out infinite;
    
    
}


#game-wrapper {
    width: 1000px;
    height: 750px;
   
    background-image: url('images/makeup-bg.png');
    background-size: cover;
    background-position: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border-radius: 20px;
    overflow: hidden;
    border: 7px solid #f14d81db;
    box-shadow: 0 10px 10px rgba(121, 58, 12, 0.473);
    z-index: 2;
    padding: 10px;
    text-align: center;
    box-sizing: border-box; 
}

#border-image {
      position: absolute;
      width: 1000px;
      height: 750px;
      z-index: 2;
      pointer-events: none;
      box-shadow: 0 0 15px rgba(204, 121, 13, 0.5), 0 0 25px rgba(117, 51, 4, 0.4);
      border-radius: 20px;
    }

      #makeup-text-border {
        position: absolute;
        top:26.5%;
        left: 50%;
        transform: translate(-50%, -50%);
        height: 500px;
        width: 420px;
        height: auto;
        z-index: 5;
        user-select: none;
        animation: softWiggle 1.5s ease-in-out infinite;

}

@keyframes softWiggle {
  0% {
    transform: translate(-50%, -50%) rotate(0deg);
  }
  20% {
    transform: translate(-50%, -50%) rotate(1.2deg);
  }
  40% {
    transform: translate(-50%, -50%) rotate(-1.2deg);
  }
  60% {
    transform: translate(-50%, -50%) rotate(1deg);
  }
  80% {
    transform: translate(-50%, -50%) rotate(-0.8deg);
  }
  100% {
    transform: translate(-50%, -50%) rotate(0deg);
  }
}



#makeup-minime {
      position: absolute;
      top:30%;
      left: 5%;
      height: 500px;
      width: 670px;
      height: auto;
      z-index: 6;
      user-select: none;
      
      
    }

#btn__back {
      position: absolute;
      top: -5%;
      left: 0%;
      width: 250px;
      height: 250px;
      border: none;
      padding: 0;
      background: transparent;
      background-color: transparent;
      cursor: pointer;
      z-index: 10;
      -webkit-tap-highlight-color: transparent;
      user-select: none;
      background-image: url('images/back-btn.png');
      background-size: cover;
      background-position: center;
      border-radius: 15px;
    }

    #btn__back:hover {
      transform: scale(1.1);
       filter: drop-shadow(0 0 10px rgb(255, 255, 255));
    }

    #btn__back:focus {
      outline: none;
    }



#match-grid {
    display: grid;
    grid-template-columns: repeat(4, auto); 
    gap: 20px;
    margin-top: 10px;
    justify-items: center;
    justify-content: end;
    width: fit-content; 
    margin-left: auto; 
    margin-right: 100px; 
    padding-bottom: 35px;
}



.card {
    width: 100px;
    height: 100px;
    position: relative;
    perspective: 1000px;
    cursor: pointer;
    transition: transform 0.5s ease;
    filter: drop-shadow(0 0 10px rgb(255, 255, 255));
}

.card_inner {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    transition: transform 0.5s ease;
}

.card_front,
.card_back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 10px;
}

.card_front {
    background: linear-gradient(145deg, rgb(255, 209, 222), rgb(247, 114, 147));
}

.card_back {
    background: linear-gradient(145deg, rgb(218, 255, 179), rgb(177, 193, 50));
    transform: rotateY(180deg);
}

.card_back img {
    width: 100%;
    height: auto;
    margin-top: 5px;
}

.is-flipped .card_inner {
    transform: rotateY(180deg);
}

#start-btn {
    background-color: transparent;
   width: 126px;
   height:106px;
    bottom:8%;
   left: 34.3%;
    border: none;
   
    cursor: pointer;
    position: relative; /* Added position */
    z-index: 60;
}


#start-btn:hover, #restart-btn:hover {
  transform: scale(1.1);
    filter: drop-shadow(0 0 10px rgb(255, 255, 255));
}

#music-button:focus {
      outline: none;
    }


#restart-btn {
  position: absolute;   
    top: calc(5% + 155px); 
    left: 13.3%;            
    height: 56px;
    width: 207px;
    margin-top: 30px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    background: transparent;
    background-color:transparent;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
    
    z-index: 60;
   
}

#how-to-play-btn {
  position: absolute;   
    top: calc(5% + 210px); 
    left: 11.9%;  
    height: 56px;
    width: 207px;
    background: transparent;
    background-color:transparent;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
    padding: 10px 20px;
    margin-top: 30px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 18px;
    z-index: 60;
   
}

#how-to-play-btn:hover {
transform: scale(1.1);
filter: drop-shadow(0 0 10px rgb(255, 255, 255));
}

#overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(255, 138, 161, 0.28); /* light background */
  z-index: 5;
}

#how-to-play-img {
  position: absolute;
      top:55%;
      left: 50%;
      transform: translate(-50%, -70%);
      height: 500px;
      width: 1000px;
      height: auto;
      z-index: 10;
      pointer-events: none;
}

#timer {
  position: absolute;
  font-family: 'Mystery Quest', sans-serif;
    font-size: 30px;
    font-weight: bold;
    color: #f2c94c;
    display: none;
    border-radius:20px;
    padding: 10px 35px;
    text-shadow: -1px -1px 2px  rgb(255, 255, 255), 1px 1px 1px rgb(136, 11, 50);
    
 

    left: 14.2%;  
    top: 14%;   
    z-index:10;
}

#timer-holder {
      position: absolute;
      top:23%;
      left: 24.5%;
      transform: translate(-50%, -50%);
      height: 500px;
      width: 350px;
      height: auto;
      z-index: 5;
      user-select: none;
      display:none;
    }

#music-button {
      position: absolute;
      bottom: 15px;
      right: 20px;
      width: 130px;
      height: 131px;
      padding: 0;
      background: transparent;
      border:none;
      background-color: transparent;
      cursor: pointer;
      z-index: 10;
      -webkit-tap-highlight-color: transparent;
      user-select: none;
      background-image: url('images/music-btn.png');
      background-size: cover;
      background-position: center;
      border-radius: 15px;
    }

    #music-button:hover {
      transform: scale(1.1);
      filter: drop-shadow(0 0 10px rgb(255, 255, 255));
    }

    #music-button:focus {
      outline: none;
    }



@keyframes shake {
    0% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    50% { transform: translateX(10px); }
    75% { transform: translateX(-10px); }
    100% { transform: translateX(10px); }
}


@keyframes popout {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

.shake {
    animation: shake 0.5s ease-in-out infinite;
}

.popout {
    animation: popout 0.5s ease-in-out infinite;
}

.image-container {
    object-fit: cover;
    max-width: 400px;
    margin: auto;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0px;
    background-color: rgba(255, 230, 237, 0.532);
    border-radius: 30px;
}

.image-container img {
    width: 100%;
    max-width: 100%;
    height: auto;
    border-radius: 10px;
}

    </style>
</head>
<body>
  <button aria-label="Back" id="btn__back"></button>

    <div class="makeup-bg"></div>
    
    <div id="game-wrapper">
        <h1>Makeup Frenzy!</h1>
        <p id="game-description">Zoeyâ€™s makeup collection is a total disaster and she needs your sharp memory to help<br> sort it out!</p>
        
        <img id="border-image" src="images/makeup-border.jpg" alt="border" />
        <img id="makeup-text-border" src="images/title-border.png" alt="makeup-text-border" />
        <img id="timer-holder" src="images/timer-holder.png" alt="timer-holder" />
        

        <img id="makeup-minime" src="images/makeup-minime.png" alt="makeup mini Me" />


        <div class="image-container">
            <img src="images/example.png" alt="Example Image">
        </div>
        <button id="start-btn" onclick="start()">
            <img src="images/makeup-go.png" alt="Start Button" />
          </button>
          
          <button id="restart-btn" onclick="restart()" style="display:none;">
            <img src="images/restart-btn.png" alt="restart Button" />
        </button>
        


        <button id="how-to-play-btn" style="display:none;">
          <img src="images/how-to-play-btn.png" alt="how-to-play button" />
      </button>
        <div id="overlay" style="display: none;"></div>
        <img id="how-to-play-img" src="images/how-to-play.png" alt="How to Play" style="display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 100; max-width: 90%; border-radius: 20px;" />


        <p id="timer">Timer: 60s</p>
        <div id="match-grid"></div>

        <button id="music-button" style="display: none;"></button>
    </div>

    <script>

const hoverAudio = new Audio('audio/button-hover.mp3');
hoverAudio.volume = 0.1;


const buttons = document.querySelectorAll('button');
buttons.forEach(button => {
  button.addEventListener('mouseover', () => {
    hoverAudio.currentTime = 0; 
    hoverAudio.play(); 
  });
});


const matchAudio = new Audio('audio/correct-match.mp3');
matchAudio.volume = 0.2;


      document.getElementById('btn__back').addEventListener('click', () => {
        const sound = new Audio('audio/sparkly_click.wav');
        sound.volume = 0.2;
        sound.play();
        sound.onended = () => {
          window.location.href = "secondpage.html";
        };
      });
    
      var flipCardSound = new Audio('audio/flipcard.mp3');
      flipCardSound.volume = 0.3;
    
      var tickSound = new Audio('audio/timer2.mp3');
      var timerSong = new Audio('audio/timer-song.mp3');
      tickSound.volume = 0.1;
      timerSong.volume = 0.15;
    
      var gameStarted = false;
      var timer = 60;
      var timerInterval;
      var isCardFlipping = false;
      var flippedCards = [];
      var matchedCards = 0;
    
      var images = [
        "images/lipstick.png",
        "images/mascara.png",
        "images/concealer.png",
        "images/polish.png",
        "images/perfume.png",
        "images/palette.png",
        "images/eyelash-curler.png",
        "images/lashes.png",
      ];
    
      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }
    
      function start() {
        if (gameStarted) return;
        gameStarted = true;
    
       
        document.getElementById('game-description').style.display = 'none';
        document.getElementById('start-btn').style.display = 'none';
        document.getElementById('makeup-text-border').style.display = 'none';
        document.querySelector('h1').style.display = 'none';
        document.querySelector('.image-container').style.display = 'none';
        document.getElementById('makeup-minime').style.display = 'none';

        
        
    
        
        document.getElementById('border-image').src = 'images/makeup-game-border.png';
  
        document.getElementById('match-grid').innerHTML = '';
        matchedCards = 0;
    
        // Start timer
        document.getElementById('timer').style.display = 'block';
        timer = 60;
        updateTimer();
        timerInterval = setInterval(function () {
          timer--;
          updateTimer();
          tickSound.play();
          if (timer <= 0) {
            clearInterval(timerInterval);
            alert("Time's up! Game over!");
          }
        }, 1000);
    
        document.getElementById('restart-btn').style.display = 'block';  
        document.getElementById('music-button').style.display = 'block';  
        document.getElementById('timer-holder').style.display = 'block';  
        document.getElementById('how-to-play-btn').style.display = 'block';  
        
        
        
        timerSong.play();
    
        const shuffledImages = shuffle([...images, ...images]);
        const grid = document.getElementById('match-grid');
    
        shuffledImages.forEach(function (image) {
          const card = document.createElement('div');
          card.classList.add('card');
          card.dataset.image = image;
    
          const cardInner = document.createElement('div');
          cardInner.classList.add('card_inner');
    
          const cardFront = document.createElement('div');
          cardFront.classList.add('card_front');
    
          const cardBack = document.createElement('div');
          cardBack.classList.add('card_back');
    
          const cardImg = document.createElement('img');
          cardImg.src = image;
          cardBack.appendChild(cardImg);
    
          cardInner.appendChild(cardFront);
          cardInner.appendChild(cardBack);
          card.appendChild(cardInner);
    
          card.addEventListener('click', function () {
            flipCardSound.play();
    
            if (flippedCards.length === 2 || card.classList.contains('is-flipped')) {
              return;
            }
    
            card.classList.add('is-flipped');
            flippedCards.push(card);
    
            if (flippedCards.length === 2) {
              isCardFlipping = true;
              checkMatch();
            }
          });
    
          grid.appendChild(card);
        });
      }
    
      function updateTimer() {
        const timerElement = document.getElementById('timer');
        timerElement.innerText = `Timer: ${timer}s`;
    
        if (timer <= 15) {
          timerElement.classList.add('shake', 'popout');
        } else {
          timerElement.classList.remove('shake', 'popout');
        }
      }
    
      function checkMatch() {
    const [card1, card2] = flippedCards;
    if (card1.dataset.image === card2.dataset.image) {
        matchedCards++;
        flippedCards = [];
        
        // Play the match sound
        matchAudio.currentTime = 0; // Reset the match sound
        matchAudio.play(); // Play the match sound
        
        if (matchedCards === images.length) {
            setTimeout(function () {
                clearInterval(timerInterval);
                alert('All sorted! Zoeyâ€™s lipstick lineup is runway-ready! ðŸ’‹âœ¨');
                document.getElementById('restart-btn').style.display = 'block';
            }, 500);
        }
        
        isCardFlipping = false;
    } else {
        setTimeout(function () {
            card1.classList.remove('is-flipped');
            card2.classList.remove('is-flipped');
            flippedCards = [];
            isCardFlipping = false;
        }, 1000);
    }
}
    
      function restart() {
        gameStarted = false;
        flippedCards = [];
        matchedCards = 0;
        document.getElementById('restart-btn').style.display = 'none';
        document.getElementById('start-btn').style.display = 'block';
        document.getElementById('match-grid').innerHTML = '';
        document.getElementById('game-description').style.display = 'block';
        document.getElementById('timer').style.display = 'none';
        document.getElementById('timer-holder').style.display = 'none';
        document.getElementById('how-to-play-btn').style.display = 'none';
        document.getElementById('how-to-play-img').style.display = 'none';
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('music-button').style.display = 'none';
        


    
        document.querySelector('.image-container').style.display = 'flex';
    
        
        document.getElementById('border-image').src = 'images/makeup-border.jpg';
    
        
        document.getElementById('makeup-text-border').style.display = 'block';
        document.querySelector('h1').style.display = 'block';
        document.getElementById('makeup-minime').style.display = 'block';
    
        clearInterval(timerInterval);
        tickSound.pause();
        tickSound.currentTime = 0;
        timerSong.pause();
        timerSong.currentTime = 0;
    
        gameStarted = false;  
        flippedCards = [];
        matchedCards = 0;
      }
      const img = document.getElementById("how-to-play-img");
      const overlay = document.getElementById("overlay");

      document.getElementById("how-to-play-btn").addEventListener("click", function () {
  if (img.style.display === "none" || img.style.display === "") {
    img.style.display = "block";
    overlay.style.display = "block";
  } else {
    img.style.display = "none";
    overlay.style.display = "none";
  }
});



      // Music Button Toggle 
      window.onload = function() {
        var musicButton = document.getElementById('music-button');
        var isMusicPlaying = true;
    
        if (musicButton) {
          musicButton.addEventListener('click', function() {
            if (isMusicPlaying) {
              timerSong.pause();
            } else {
              timerSong.play();
            }
            isMusicPlaying = !isMusicPlaying;
          });
        } else {
          console.error('Music button not found!');
        }
      };
    </script>
    
</body>
</html>